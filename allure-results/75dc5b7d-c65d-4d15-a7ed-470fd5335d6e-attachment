# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Verify Salesforce Contract Page Elements
- Location: /Users/pejin/Documents/Playwright QA/tests/test-11.spec.ts:4:5

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('text=Dax Hank')
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for locator('text=Dax Hank')

    at /Users/pejin/Documents/Playwright QA/tests/test-11.spec.ts:34:50
```

# Page snapshot

```yaml
- link "Skip to Navigation"
- link "Skip to Main Content"
- text: "Sandbox: qa |"
- link "Log out"
- text: Brella Concierge
- button "Search": Search...
- navigation "Global Header":
  - list:
    - listitem:
      - group:
        - button "Favorite this item":
          - tooltip "Add favorite"
        - button "Favorites list":
          - tooltip "Favorites list"
    - listitem:
      - button "Global Actions":
        - tooltip "Global Actions"
    - listitem:
      - button "Guidance Center"
      - tooltip "Guidance Center"
    - listitem:
      - button "Salesforce Help":
        - tooltip "Salesforce Help"
    - listitem:
      - button "Setup":
        - tooltip "Setup"
    - listitem:
      - button "Notifications":
        - tooltip "Notifications"
    - listitem:
      - button "View profile":
        - tooltip "View profile"
- navigation "App":
  - button "App Launcher"
- heading "Brella Concierge" [level=1]
- navigation "Global":
  - list:
    - listitem:
      - link "Accounts"
      - button "Accounts List"
    - listitem:
      - link "Contacts"
      - button "Contacts List"
    - listitem:
      - link "Quotes |Ansel"
    - listitem:
      - link "|Sym"
    - listitem:
      - link "|NW"
    - listitem:
      - link "|Voya"
    - listitem:
      - link "Contracts |Ansel"
    - listitem:
      - link "|Sym"
    - listitem:
      - link "|NW"
    - listitem:
      - link "* 00010973 | Contract"
      - button "00010973 | Contract List"
      - button "Close tab"
    - listitem:
      - button "Show more navigation items"
    - listitem:
      - button "Edit nav items"
- main:
  - img "Contract"
  - heading "Contract Automation ER 1740580143 | 2025-02-26 09:30:16" [level=1]
  - button "Create Enrollment Event"
  - button "Download Policy"
  - button "Create Policy Change RME"
  - button "Show more actions"
  - listitem:
    - paragraph: Account Name
    - paragraph:
      - link "Automation ER 1740580143"
      - button "Open Automation ER 1740580143 Preview Open Automation ER 1740580143 Preview"
  - listitem:
    - paragraph: Status
    - paragraph: In Approval Process
  - listitem:
    - paragraph: Contract Version Start Date
    - paragraph: 12/31/2024
  - listitem:
    - paragraph: Contract Version End Date
    - paragraph: 1/31/2026
  - listitem:
    - paragraph: Contract Term (months)
    - paragraph: "12"
  - listitem:
    - paragraph: Policy number
    - paragraph: LB-10003326
  - article:
    - heading "Path" [level=2]
    - listbox "Path Options":
      - option "stage complete Draft"
      - option "In Approval Process" [selected]
      - option "Finalized"
      - option "Active"
      - option "Expired"
      - option "Terminated"
      - option "Voided"
      - option "Do not use"
    - button "Mark Status as Complete"
  - heading "Tabs" [level=2]
  - tablist "Tabs":
    - tab "Related" [selected]
    - tab "Details"
  - tabpanel "Related":
    - heading "Eligible Roster Members (25)" [level=2]
    - paragraph:
      - text: Navigation Mode
      - grid:
        - rowgroup:
          - row "Roster Member Name Date of Hire Termination Date Class Asset":
            - columnheader "Roster Member Name":
              - 'button "Sort by: Roster Member Name"'
              - text: "Sorted: None"
            - columnheader "Date of Hire":
              - 'button "Sort by: Date of Hire"'
              - text: "Sorted: None"
            - columnheader "Termination Date":
              - 'button "Sort by: Termination Date"'
              - text: "Sorted: None"
            - columnheader "Class":
              - 'button "Sort by: Class"'
              - text: "Sorted: None"
            - columnheader "Asset":
              - 'button "Sort by: Asset"'
              - text: "Sorted: None"
        - rowgroup:
          - row "Adriana Adaline Oct 9, 1935 Class A Adriana, Adaline (Employee + Child) | 2024":
            - rowheader "Adriana Adaline":
              - link "Adriana Adaline"
            - gridcell "Oct 9, 1935"
            - gridcell
            - gridcell "Class A"
            - gridcell "Adriana, Adaline (Employee + Child) | 2024"
          - row "Faith Alia Oct 16, 2002 Class A Faith, Alia (Employee + Family) | 2025":
            - rowheader "Faith Alia":
              - link "Faith Alia"
            - gridcell "Oct 16, 2002"
            - gridcell
            - gridcell "Class A"
            - gridcell "Faith, Alia (Employee + Family) | 2025"
          - row "Denver Amias Oct 25, 1933 Class A Denver, Amias (Employee + Spouse) | 2025":
            - rowheader "Denver Amias":
              - link "Denver Amias"
            - gridcell "Oct 25, 1933"
            - gridcell
            - gridcell "Class A"
            - gridcell "Denver, Amias (Employee + Spouse) | 2025"
          - row "Elsie Avah Oct 19, 1981 Class A Elsie, Avah (Employee only) | 2025":
            - rowheader "Elsie Avah":
              - link "Elsie Avah"
            - gridcell "Oct 19, 1981"
            - gridcell
            - gridcell "Class A"
            - gridcell "Elsie, Avah (Employee only) | 2025"
          - row "Mohamed Blaine Nov 12, 1974 Class A":
            - rowheader "Mohamed Blaine":
              - link "Mohamed Blaine"
            - gridcell "Nov 12, 1974"
            - gridcell
            - gridcell "Class A"
            - gridcell
          - row "Aden Dior Dec 19, 1976 Class A Aden, Dior (Employee + Child) | 2025":
            - rowheader "Aden Dior":
              - link "Aden Dior"
            - gridcell "Dec 19, 1976"
            - gridcell
            - gridcell "Class A"
            - gridcell "Aden, Dior (Employee + Child) | 2025"
    - text: View All
    - article:
      - text: Indicates Case
      - heading "Annual Open Enrollment Events (0)" [level=2]
    - article:
      - text: Indicates Case
      - heading "QLE Enrollment Events (0)" [level=2]
    - article "Admin Changes":
      - heading "Admin Changes (1)" [level=2]:
        - link "Admin Changes (1)"
      - button "New"
      - text: Navigation Mode
      - grid "Admin Changes":
        - rowgroup:
          - row "Admin Change Name Action":
            - columnheader "Admin Change Name"
            - columnheader "Action"
        - rowgroup:
          - row "AC-1187 Open AC-1187 Preview Open AC-1187 Preview Show Actions":
            - rowheader "AC-1187 Open AC-1187 Preview Open AC-1187 Preview":
              - link "AC-1187"
              - button "Open AC-1187 Preview Open AC-1187 Preview"
            - gridcell "Show Actions":
              - button "Show Actions"
      - link "View All Admin Changes"
    - article:
      - heading "Notes & Attachments" [level=2]
    - article:
      - heading "Census" [level=2]
    - article:
      - heading "Contract History" [level=2]
    - article:
      - heading "Orders" [level=2]
    - article:
      - heading "Contract Documents" [level=2]
    - article:
      - heading "Rating Specific Attributes" [level=2]
    - heading "Upload Election Results (0)" [level=2]
    - paragraph:
      - text: Navigation Mode
      - grid:
        - rowgroup:
          - row "Task Name Status Date Time Uploaded File Name":
            - columnheader "Task Name"
            - columnheader "Status"
            - columnheader "Date Time Uploaded"
            - columnheader "File Name"
        - rowgroup
    - article:
      - heading "Assets" [level=2]
    - article:
      - heading "Adjustment Type and Date" [level=2]
    - article:
      - heading "Roster Members" [level=2]
    - article:
      - heading "Roster Member Changes" [level=2]
    - article:
      - heading "Limitations" [level=2]
    - article:
      - heading "Contract Changes" [level=2]
    - article:
      - heading "Related Contacts" [level=2]
  - heading "Tabs" [level=2]
  - tablist "Tabs":
    - tab "Activity" [selected]
  - tabpanel "Activity":
    - heading "Activity Publisher" [level=2]
    - heading "Activity Timeline" [level=2]
    - link "Skip to the bottom of the activity timeline"
    - text: "Filters: All time â€¢ All activities â€¢ All types"
    - button "Timeline Settings"
    - button "Refresh"
    - text: â€¢
    - button "Expand All"
    - text: â€¢
    - link "View All"
    - heading "Upcoming & Overdue" [level=3]:
      - button "Upcoming & Overdue" [expanded]
    - list
    - text: No activities to show. Get started by sending an email, scheduling a task, and more.
    - status: No past activity. Past meetings and tasks marked as done show up here.
    - link "Skip to the top of the activity timeline"
  - article:
    - heading "Generate Implementation Link" [level=2]:
      - heading "Generate Implementation Link" [level=3]
    - button "Get The Link"
    - textbox
- status
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { time } from 'console';
   3 |
   4 | test('Verify Salesforce Contract Page Elements', async ({ page }) => {
   5 |   console.log('ðŸš€ Starting test: Verify Salesforce Contract Page');
   6 |
   7 |   // Step 1: Navigate to the Salesforce page (replace with actual URL)
   8 |   await page.goto('https://brella--qa.sandbox.lightning.force.com/lightning/r/Contract/800QL00000HtrOUYAZ/view');
   9 |
  10 |   // Step 2: Log in to Salesforce
  11 |   await page.getByRole('textbox', { name: 'Username' }).fill('qa@joinansel.com.qa');
  12 |   await page.getByRole('textbox', { name: 'Password' }).fill('q8xPmBoudN1W');
  13 |   await page.getByRole('button', { name: 'Log In to Sandbox' }).click();
  14 |
  15 |   // Step 2: Verify Contract Details Section
  16 |   await page.waitForTimeout(5000);
  17 |
  18 |   await expect(page.getByTitle('In Approval Process')).toBeVisible();
  19 |   await expect(page.getByText('Contract Term (months)', { exact: true })).toBeVisible();
  20 |   //await expect(page.locator('text=Policy number LB-10003326')).toBeVisible();
  21 |   console.log('âœ… Contract details are correct.');
  22 |
  23 |   // Step 3: Verify "Eligible Roster Members" Table
  24 |   const rosterMembers = [
  25 |     'Adriana Adaline',
  26 |     'Aden Dior',
  27 |     'Dax Hank',
  28 |     'Edith Jamie',
  29 |     'Andrew Joanna',
  30 |     'Bonnie Onyx'
  31 |   ];
  32 |
  33 |   for (const member of rosterMembers) {
> 34 |     await expect(page.locator(`text=${member}`)).toBeVisible();
     |                                                  ^ Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  35 |   }
  36 |   console.log('âœ… All Roster Members are present.');
  37 |
  38 |   // Step 4: Check "Get The Link" Button
  39 |   const getTheLinkButton = page.getByRole('button', { name: 'Get The Link' });
  40 |   await expect(getTheLinkButton).toBeVisible();
  41 |   console.log('âœ… "Get The Link" button is visible.');
  42 |
  43 |   // Step 5: Ensure "Mark Status as Complete" Button is Visible
  44 |   const markCompleteButton = page.getByRole('button', { name: 'Mark Status as Complete' });
  45 |   await expect(markCompleteButton).toBeVisible();
  46 |   console.log('âœ… "Mark Status as Complete" button is visible.');
  47 |
  48 |   console.log('ðŸŽ¯ All checks passed successfully!');
  49 | });
```